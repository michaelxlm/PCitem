<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>对计算后的时间重新写日期格式</title>
</head>
<body>
<script>
    /*
      对计算后的时间重新写日期格式
    */
    function timeCalculation(endYear, endMonth, endDay) {
        if (endMonth == 1 || endMonth == 3 || endMonth == 5 || endMonth == 7 || endMonth == 8 || endMonth == 10 || endMonth == 12) {
            if (endDay > 31) {
                endDay = endDay - 31;
                endMonth = endMonth + 1;
            }
        } else if (endMonth == 4 || endMonth == 6 || endMonth == 9 || endMonth == 11) {
            if (endDay > 30) {
                endDay = endDay - 30;
                endMonth = endMonth + 1;
            }
        } else if (endMonth == 2) {
            if (endYear % 4 == 0) {
                if (endDay > 29) {
                    endDay = endDay - 29;
                    endMonth = endMonth + 1;
                }
            } else {
                if (endDay > 28) {
                    endDay = endDay - 28;
                    endMonth = endMonth + 1;
                }
            }
        }
        if (endMonth > 12) {
            endYear = endYear + 1;
            endMonth = endMonth - 12;
        }
        if (endDay == 0) {
            endMonth = endMonth - 1;
            if (endMonth == 1 || endMonth == 3 || endMonth == 5 || endMonth == 7 || endMonth == 8 || endMonth == 10 || endMonth == 12) {
                endDay = 31;
            } else if (endMonth == 4 || endMonth == 6 || endMonth == 9 || endMonth == 11) {
                endDay = 30;
            } else if (endMonth == 2) {
                if (endYear % 4 == 0) {
                    endDay = 29;
                } else {
                    endDay = 28;
                }
            }
        }
        if (endMonth == 0) {
            endYear = endYear - 1;
            endMonth = 12;
            endDay = 31;
        }
        if (endMonth <= 9) {
            endMonth = '0' + endMonth;
        }
        if (endDay <= 9) {
            endDay = '0' + endDay;
        }
        return endYear + '-' + endMonth + '-' + endDay;
    }
</script>
</body>
</html>